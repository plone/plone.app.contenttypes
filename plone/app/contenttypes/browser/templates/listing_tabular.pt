<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      lang="en"
      metal:use-macro="context/@@main_template/macros/master"
      xml:lang="en"
      i18n:domain="plone"
>
  <body>

    <metal:content-core fill-slot="content-core">
      <metal:block define-macro="content-core">

        <div class="stx"
             id="parent-fieldname-text"
             metal:define-macro="text-field-view"
             tal:define="
               text python:view.text;
             "
             tal:condition="python:text"
             tal:attributes="
               class python:view.text_class;
             "
        >
          <div metal:define-slot="inside"
               tal:replace="structure python:text"
          >The body</div>
        </div>

        <metal:listingmacro define-macro="listing">
          <tal:results define="
                         batch python:view.batch();
                       ">
            <tal:listing condition="python:batch">

              <div metal:use-macro="context/batch_macros/macros/navigation"></div>

              <div class="table-responsive">

                <table class="table table-striped"
                       summary="Content listing"
                       tal:define="
                         tabular_fields view/tabular_fields;
                         thumb_scale_table python:view.get_thumb_scale_table();
                         showicons  python:view.show_icons();
                       "
                       i18n:attributes="summary summary_content_listing;"
                >

                  <thead>
                    <tr>
                      <th class="text-nowrap"></th>
                      <th class="text-nowrap"
                          tal:repeat="field tabular_fields"
                          tal:content="python:view.tabular_field_label(field)"
                      >Field name</th>
                      <th class="text-nowrap"
                          tal:condition="python:thumb_scale_table"
                          i18n:translate="image"
                      >Image</th>
                    </tr>
                  </thead>
                  <tbody tal:define="
                           portal python:portal_state.portal();
                           image_scale portal/@@image_scale;
                         ">
                    <tal:entries tal:repeat="item batch">
                      <tr metal:define-macro="listitem"
                          tal:content="structure python:view.render_cells(item)"
                      >
                      </tr>
                    </tal:entries>
                  </tbody>
                </table>

              </div>

              <div metal:use-macro="context/batch_macros/macros/navigation"></div>

            </tal:listing>

            <metal:empty metal:define-slot="no_items_in_listing">
              <p tal:condition="python: not batch"
                 tal:content="python: view.no_items_message"
              >
      There are currently no items in this folder.
              </p>
            </metal:empty>

          </tal:results>
        </metal:listingmacro>

      </metal:block>
    </metal:content-core>

  </body>
</html>
